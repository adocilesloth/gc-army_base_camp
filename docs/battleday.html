<!DOCTYPE html>
<html>

<head>
  <title>abc_army - ABC Docs</title>
</head>

<body>
	<h1>Army Base Camp Documentation</h1>
	<div style="display: grid; grid-template-columns: 150px 500px; grid-gap: 5px;">
		<div>
			<h3>Content</h3>
			<ul style="list-style: none; padding-left: 0;">
				<li><a href="index.html">Home</a></li>
				<li><a href="tables.html">Database Tables</a></li>
			</ul>
			<h3>Classes, Functions and Files</h3>
			<h4>/</h4>
			<ul style="list-style: none; padding-left: 0;">
				<li><a href="composer.html">composer.json</a></li>
				<li><a href="ext.html">ext.php</a></li>
			</ul>
			<h4>acp</h4>
			<ul style="list-style: none; padding-left: 0;">
				<li><a href="main_info.html">main_info.php</a></li>
				<li><a href="main_module.html">main_module.php</a></li>
			</ul>
			<h4>adm</h4>
			<ul style="list-style: none; padding-left: 0;">
				<li><a href="apc_body.html">abc_apc_body.html</a></li>
			</ul>
			<h4>config</h4>
			<ul style="list-style: none; padding-left: 0;">
				<li><a href="routing.html">routing.yml</a></li>
				<li><a href="services.html">services.yml</a></li>
			</ul>
			<h4>controller</h4>
			<ul style="list-style: none; padding-left: 0;">
				<li><a href="main.html">main.php</a></li>
			</ul>
			<h4>core</h4>
			<ul style="list-style: none; padding-left: 0;">
				<li><a href="army.html">abc_army.php</a></li>
				<li><a>abc_battleday.php</a></li>
				<li><a href="division.html">abc_division.php</a></li>
				<li><a href="draft.html">abc_draft.php</a></li>
				<li><a href="finish.html">abc_finish.php</a></li>
				<li><a href="forum.html">abc_forum.php</a></li>
				<li><a href="history.html">abc_history.php</a></li>
				<li><a href="medal.html">abc_medal.php</a></li>
				<li><a href="menu.html">abc_menu.php</a></li>
				<li><a href="rank.html">abc_rank.php</a></li>
				<li><a href="soldier.html">abc_soldier.php</a></li>
				<li><a href="start.html">abc_start.php</a></li>
				<li><a href="permissions.html">permissions.php</a></li>
			</ul>
			<h4>event</h4>
			<ul style="list-style: none; padding-left: 0;">
				<li><a href="main_listener.html">main_listener.php</a></li>
			</ul>
			<h4>include</h4>
			<ul style="list-style: none; padding-left: 0;">
				<li><a href="forum_inc.html">abc_forum_inc.php</a></li>
				<li><a href="sql_clean.html">abc_sql_clean.php</a></li>
			</ul>
			<h4>language</h4>
			<ul style="list-style: none; padding-left: 0;">
				<li><a href="common.html">en/common.php</a></li>
			</ul>
			<h4>migrations</h4>
			<ul style="list-style: none; padding-left: 0;">
				<li><a href="release.html">release_X_Y_Z.php</a></li>
			</ul>
			<h4>styles</h4>
			<ul style="list-style: none; padding-left: 0;">
				<li><a href="html.html">abc_page.html</a></li>
				<li><a href="js.html">abc_script.js</a></li>
				<li><a href="css.html">abc_style.css</a></li>
				<li><a href="overall.html">overall_header_na...</a></li>
			</ul>
		</div>
		<div>
			<h2>abc_battleday</h2>
			Class that controls creating, editing, deleting and signing up to battledays. All 
			battledays are handled in SBT, not a specific time zone. This class handles conversion 
			to/from SBT.
			<br><br>
			
			<h3>Functions</h3>
			<ul>
				<li><a href="#battleday_list">battleday_list</a></li>
				<li><a href="#add_battleday">add_battleday</a></li>
				<li><a href="#edit_battleday">edit_battleday</a></li>
				<li><a href="#delete_battleday">delete_battleday</a></li>
				<li><a href="#battleday_signup">battleday_signup</a></li>
				<li><a href="#select_battleday_signup">select_battleday_signup</a></li>
				<li><a href="#signup_to_battleday">signup_to_battleday</a></li>
				<li><a href="#utc_to_sbt">utc_to_sbt</a></li>
				<li><a href="#sbt_to_utc">sbt_to_utc</a></li>
				<li><a href="#get_battle_db_row">get_battle_db_row</a></li>
				<li><a href="menu.html">abc_menu.php</a></li>
			</ul>
			
			<div id="battleday_list">
				<h3>battleday_list</h3>
				Generates the html content for creating, editing and deleting battle days.
				<br>
				<br>
				Calls:
				<ul style="list-style: none;">
					<li><a href="#utc_to_sbt">core/abc_battleday-&gt;utc_to_sbt</a></li>
					<li><a href="sql_clean.html#sql_abc_unclean">include/abc_sql_clean-&gt;sql_abc_unclean</a></li>
				</ul>
				Called by:
				<ul style="list-style: none;">
					<li><a href="#add_battleday">core/abc_battleday-&gt;add_battleday</a></li>
					<li><a href="#edit_battleday">core/abc_battleday-&gt;edit_battleday</a></li>
					<li><a href="#delete_battleday">core/abc_battleday-&gt;delete_battleday</a></li>
					<li><a href="main.html#handle">controller/main-&gt;handle<a></li>
				</ul>
			</div>
			
			<div id="add_battleday">
				<h3>add_battleday</h3>
				Adds a battleday to <a href="tables.html#abc_battles">abc_battles</a>. Times are stored 
				as UTC time stamps.
				<br>
				<br>
				Calls:
				<ul style="list-style: none;">
					<li><a href="#battleday_list">core/abc_battleday-&gt;battleday_list</a></li>
					<li><a href="#sbt_to_utc">core/abc_battleday-&gt;sbt_to_utc</a></li>
					<li><a href="sql_clean.html#sql_abc_clean">include/abc_sql_clean-&gt;sql_abc_clean</a></li>
				</ul>
				Called by:
				<ul style="list-style: none;">
					<li><a href="main.html#handle">controller/main-&gt;handle<a></li>
				</ul>
			</div>
			
			<div id="edit_battleday">
				<h3>edit_battleday</h3>
				Edits a battleday in <a href="tables.html#abc_battles">abc_battles</a>. Times are stored 
				as UTC time stamps. Battleday is selected using the radio buttons created in 
				<a href="#battleday_list">abc_battleday-&gt;battleday_list</a>.
				<br>
				<br>
				Calls:
				<ul style="list-style: none;">
					<li><a href="#battleday_list">core/abc_battleday-&gt;battleday_list</a></li>
					<li><a href="#sbt_to_utc">core/abc_battleday-&gt;sbt_to_utc</a></li>
					<li><a href="#get_battle_db_row">core/abc_battleday-&gt;get_battle_db_row</a></li>
					<li><a href="sql_clean.html#sql_abc_clean">include/abc_sql_clean-&gt;sql_abc_clean</a></li>
				</ul>
				Called by:
				<ul style="list-style: none;">
					<li><a href="main.html#handle">controller/main-&gt;handle<a></li>
				</ul>
			</div>
			
			<div id="delete_battleday">
				<h3>delete_battleday</h3>
				Deletes a battleday from <a href="tables.html#abc_battles">abc_battles</a>. Battleday is 
				selected using the radio buttons created in 
				<a href="#battleday_list">abc_battleday-&gt;battleday_list</a>.
				<br>
				<br>
				Calls:
				<ul style="list-style: none;">
					<li><a href="#battleday_list">core/abc_battleday-&gt;battleday_list</a></li>
					<li><a href="#get_battle_db_row">core/abc_battleday-&gt;get_battle_db_row</a></li>
				</ul>
				Called by:
				<ul style="list-style: none;">
					<li><a href="main.html#handle">controller/main-&gt;handle<a></li>
				</ul>
			</div>
			
			<div id="battleday_signup">
				<h3>battleday_signup</h3>
				Generates html for signing up to battledays.
				<br>
				<br>
				Arguments:
				<ul style="list-style: none;">
					<li>battle_id (optional) - If none is passed, the function picks the next battleday by
					start time.</li>
				</ul>
				Called by:
				<ul style="list-style: none;">
					<li><a href="#select_battleday_signup">core/abc_battleday-&gt;select_battleday_signup</a></li>
					<li><a href="#signup_to_battleday">core/abc_battleday-&gt;signup_to_battleday</a></li>
					<li><a href="main.html#handle">controller/main-&gt;handle<a></li>
				</ul>
			</div>
			
			<div id="select_battleday_signup">
				<h3>select_battleday_signup</h3>
				Changes which battleday is shown based on user selection in 
				<a href="#battleday_signup">abc_battleday-&gt;battleday_signup</a>
				<br>
				<br>
				Calls:
				<ul style="list-style: none;">
					<li><a href="#battleday_signup">core/abc_battleday-&gt;battleday_signup</a></li>
				</ul>
				Called by:
				<ul style="list-style: none;">
					<li><a href="main.html#handle">controller/main-&gt;handle<a></li>
				</ul>
			</div>
			
			<div id="signup_to_battleday">
				<h3>signup_to_battleday</h3>
				Signs user up to battleday using the (hidden) signup_radio in 
				<a href="#battleday_signup">abc_battleday-&gt;battleday_signup</a>. Sign up hours are stored 
				in powers of 2: 2<sup>h1</sup> + 2<sup>h2</sup> + ... + 2<sup>hn</sup> where hn is the hour 
				they have signed up to. For example, if they have signed up for hours 1 and 2, this value 
				would be 2<sup>1</sup> + 2<sup>2</sup> = 6
				<br>
				<br>
				Calls:
				<ul style="list-style: none;">
					<li><a href="#battleday_signup">core/abc_battleday-&gt;battleday_signup</a></li>
				</ul>
				Called by:
				<ul style="list-style: none;">
					<li><a href="main.html#handle">controller/main-&gt;handle<a></li>
				</ul>
			</div>
			
			<div id="utc_to_sbt">
				<h3>utc_to_sbt</h3>
				Converts a UTC timestamp into the offset from SBT. For example, the timestamp for 19:00 UTC 
				will return 1 in the winter. The function accounts for how GC does DST/Summer time.
				<br>
				<br>
				Arguments:
				<ul style="list-style: none;">
					<li>utc - A UTC timestamp (int)</li>
				</ul>
				Returns:
				<ul style="list-style: none;">
					<li>sbt - The offset from SBT (int)</li>
				</ul>
				Called by:
				<ul style="list-style: none;">
				<li><a href="#battleday_list">core/abc_battleday-&gt;battleday_list</a></li>
					<li><a href="#battleday_signup">core/abc_battleday-&gt;battleday_signup</a></li>
				</ul>
			</div>
			
			<div id="sbt_to_utc">
				<h3>sbt_to_utc</h3>
				Converts a SBT offset into UCT timestamp. For example, 1 will return
				18:00 UTC timestamp in the winter. The function accounts for how GC does DST/Summer time.
				<br>
				<br>
				Arguments:
				<ul style="list-style: none;">
					<li>date - The date of the batteday as yyyy-mm-dd (str)</li>
					<li>sbt - The offset from SBT (int)</li>
				</ul>
				Returns:
				<ul style="list-style: none;">
					<li>utc - A UTC timestamp (int)</li>
				</ul>
				Called by:
				<ul style="list-style: none;">
					<li><a href="#add_battleday">core/abc_battleday-&gt;add_battleday</a></li>
					<li><a href="#edit_battleday">core/abc_battleday-&gt;edit_battleday</a></li>
				</ul>
			</div>
			
			<div id="get_battle_db_row">
				<h3>get_battle_db_row</h3>
				Gets the data base row from <a href="tables.html#abc_battles">abc_battles</a> 
				for the battle selected by battle_radio.
				<br>
				<br>
				Returns:
				<ul style="list-style: none;">
					<li>row - database row (dict)</li>
					<li>False - On failure (bool)</li>
				</ul>
				Called by:
				<ul style="list-style: none;">
					<li><a href="#edit_battleday">core/abc_battleday-&gt;edit_battleday</a></li>
					<li><a href="#delete_battleday">core/abc_battleday-&gt;delete_battleday</a></li>
				</ul>
			</div>
			
		</div>
	</div>
</body>

</html>